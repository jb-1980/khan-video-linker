(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,n,t){e.exports=t(19)},17:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t(3),i=t(0),c=t.n(i),o=t(7),l=t.n(o),u=t(2);function d(){var e=Object(r.a)(["\n      background: #e91e63;\n      color: #fff;\n      width: 100%;\n      height: 50px;\n      line-height: 50px;\n      font-size: 30px;\n      font-family: monospace;\n      text-align: center;\n    "]);return d=function(){return e},e}var s=function(){return c.a.createElement("div",{className:Object(u.a)(d())},"Khan Video Linker")},f=t(10),m=t(4),b=t(5),p=function(e,n){if(0===e.videos.length&&null===e.error){var t=localStorage.getItem("videos");if(null===t){fetch("https://www.khanacademy.org/api/v1/topictree?kind=Video").then(function(e){return e.json()}).then(function(e){t=Object.values(function e(n){return Array.isArray(n)?n.reduce(function(n,t){return t.children?Object(m.a)({},n,e(t.children)):"Video"===t.kind?Object(m.a)({},n,Object(b.a)({},t.readable_id,{youtube_id:t.youtube_id,title:t.title})):void 0},{}):n.children?e(n.children):"Video"===n.kind?Object(b.a)({},n.readable_id,{youtube_id:n.youtube_id,title:n.title}):void 0}(e)),localStorage.setItem("videos",JSON.stringify(t)),n({videos:t,loading:!1,error:null})}).catch(function(e){console.error(e),n({videos:[],loading:!1,error:"there was an error while fetching the data"})})}else n({videos:JSON.parse(t),loading:!1,error:null})}},g=c.a.createContext({}),h={videos:[],loading:!0,error:null};function v(){var e=Object(r.a)(["\n              border: none;\n              border-bottom: thick solid #e91e63;\n              width: 90%;\n              margin: 10px 0;\n            "]);return v=function(){return e},e}function y(){var e=Object(r.a)(["\n                display: inline-block;\n                background: #e91e63;\n                border: none;\n                color: #fff;\n                padding: 5px 7px;\n                border-radius: 5px;\n                font-family: monospace;\n                font-size: 1em;\n              "]);return y=function(){return e},e}function j(){var e=Object(r.a)(["\n        width: 40%;\n        background: #fff;\n        padding: 10px;\n      "]);return j=function(){return e},e}function x(){var e=Object(r.a)(["\n  width: 20px;\n  height: 20px;\n  color: #fff;\n  background: #e91e63;\n  float: right;\n  font-size: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return x=function(){return e},e}function O(){var e=Object(r.a)(["\n  color: #e91e63;\n  margin: 10px 0;\n  cursor: pointer;\n  font-family: monospace;\n"]);return O=function(){return e},e}var E=Object(u.a)(O()),k=Object(u.a)(x()),w=function(e){var n=e.selectHandler,t=e.selected,r=Object(i.useState)(""),o=Object(a.a)(r,2),l=o[0],d=o[1],s=Object(i.useContext)(g),m=s.videos,b=s.loading,p=s.error,h=s.refreshVideos,x=m.reduce(function(e,n){return n.title.includes(l)&&e.filteredVideos.push(n),t.includes(n.youtube_id)&&e.selectedVideos.push(n),e},{filteredVideos:[],selectedVideos:[]}),O=x.filteredVideos,w=x.selectedVideos,V=O.slice(0,10).map(function(e){return c.a.createElement("div",{key:e.youtube_id,className:E,onClick:function(){return n(function(n){return n.includes(e.youtube_id)?n:Object(f.a)(n).concat([e.youtube_id])})}},e.title,c.a.createElement("div",{className:k},"+"))}),S=w.map(function(e){return c.a.createElement("div",{key:e.youtube_id,className:E,onClick:function(){return n(function(n){return n.filter(function(n){return n!==e.youtube_id})})}},e.title,c.a.createElement("div",{className:k},"-"))});return c.a.createElement("div",{className:Object(u.a)(j())},b?c.a.createElement("h2",null," Retrieving video list ..."):p?c.a.createElement("h2",null,p):c.a.createElement(c.a.Fragment,null,S.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Selected Videos"),c.a.createElement("div",null,S),c.a.createElement("hr",{style:{height:3,border:"none",background:"#b0003a"}})),c.a.createElement("div",null,c.a.createElement("h4",{style:{display:"inline-block",marginRight:20}},"Video finder"),c.a.createElement("button",{className:Object(u.a)(y()),onClick:h},"Refresh List")),c.a.createElement("input",{onChange:function(e){return d(e.target.value)},value:l,placeholder:"Type to find a video",type:"text",className:Object(u.a)(v())}),V))};function V(){var e=Object(r.a)(["\n              ",";\n              ",";\n            "]);return V=function(){return e},e}function S(){var e=Object(r.a)(['\n  font-weight: bold;\n  color: #b0003a;\n  &:after {\n    content: " ";\n    position: absolute;\n    width: 0;\n    height: 15px;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n    border-bottom: 7px solid #b0003a;\n    left: 50%;\n    margin-left: -7px;\n    bottom: -3px;\n    display: block;\n  }\n']);return S=function(){return e},e}function C(){var e=Object(r.a)(["\n  display: inline-block;\n  margin: 0 10px;\n  position: relative;\n  padding: 0 0 5px 0;\n  cursor: pointer;\n"]);return C=function(){return e},e}var N=Object(u.a)(C()),_=Object(u.a)(S()),R=function(e){var n=e.render,t=e.tabs,r=Object(i.useState)(t[0].id),o=Object(a.a)(r,2),l=o[0],d=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{listStyle:"none",display:"flex",flexDirection:"row",width:"100%"}},t.map(function(e){return c.a.createElement("li",{key:e.id,className:Object(u.a)(V(),N,l===e.id&&_),onClick:function(){return d(e.id)}},e.name)})),c.a.createElement("hr",{style:{margin:0,height:3,background:"#b0003a",width:"100%",border:"none"}}),n(l))};function z(){var e=Object(r.a)(["\n          transition: opacity 3s cubic-bezier(0.02, 1.24, 0.27, 0.93);\n          opacity: ",";\n        "]);return z=function(){return e},e}function A(){var e=Object(r.a)(["\n        display: inline-block;\n        background: #e91e63;\n        border: none;\n        color: #fff;\n        padding: 5px 7px;\n        border-radius: 5px;\n        font-family: monospace;\n        font-size: 1em;\n        float: right;\n        margin: 7px;\n        width: 150px;\n      "]);return A=function(){return e},e}var F=function(e){var n=e.str,t=Object(i.useState)(!1),r=Object(a.a)(t,2),o=r[0],l=r[1];return Object(i.useEffect)(function(){o&&setTimeout(function(){return l(!1)},1e3)}),c.a.createElement("button",{className:Object(u.a)(A()),onClick:function(){!function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}(n),l(!0)}},c.a.createElement("span",{className:Object(u.a)(z(),o?.5:1)},o?"copied":"copy to clipboard"))};function I(){var e=Object(r.a)(["\n              background: #5cb85c;\n              border: thin solid #4cae4c;\n              border-radius: 5px;\n              padding: 5px 9px;\n              margin: 0 3px;\n              color: #fff;\n            "]);return I=function(){return e},e}function J(){var e=Object(r.a)(["\n        width: 60%;\n        text-align: left;\n        padding: 10px;\n      "]);return J=function(){return e},e}var B="https://www.khanacademy.org/embed_video?v=",H=function(e){var n=e.selected;return c.a.createElement("div",{className:Object(u.a)(J())},0===n.length?c.a.createElement("h1",null,"Please select a video"):c.a.createElement(R,{tabs:[{id:"code",name:"Code"},{id:"rendered",name:"Rendered Code"}],render:function(e){return"code"===e?c.a.createElement(L,{selected:n}):c.a.createElement(P,{selected:n})}}))},L=function(e){var n=e.selected,t='\n<div>\n    <iframe\n    id="kaskill-ka-player"\n    style="width:853px;height:480px;border:none;background-color:ghostwhite;margin:auto;"\n    scrolling="no"\n    src="https://www.khanacademy.org/embed_video?v='.concat(n[0],'"\n    ></iframe>\n</div>\n<div>\n    ').concat(n.map(function(e,n){return function(e,n){return"\n  <button\n    onclick=\"changeVideo('".concat(B+n,'\')"\n    style="\n      background: #5cb85c;\n      border: thin solid #4cae4c;\n      border-radius: 5px;\n      padding: 5px 9px;\n      margin: 0 3px;\n      color: #fff;\n    "\n  >\n    Video ').concat(e,"\n  </button>\n")}(n+1,e)}).join(""),'\n</div>\n<script type="text/javascript">\n    function changeVideo(url){\n        document.getElementById("kaskill-ka-player").src = url;\n    }\n<\/script>\n');return c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{str:t}),c.a.createElement("pre",{style:{fontFamily:"monospace"}},t))},P=function(e){var n=e.selected,t=Object(i.useState)(n[0]),r=Object(a.a)(t,2),o=r[0],l=r[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("iframe",{id:"kaskill-ka-player",style:{width:"853px",height:"480px",border:"none",backgroundColor:"ghostwhite",margin:"auto"},scrolling:"no",src:B+o})),c.a.createElement("div",null,n.map(function(e,n){return c.a.createElement("button",{key:e,onClick:function(){return l(e)},className:Object(u.a)(I())},"Video ",n+1)})))};t(17);function T(){var e=Object(r.a)(["\n          display: flex;\n          min-height: calc(100vh - 50px);\n          background: #eee;\n          text-align: left;\n        "]);return T=function(){return e},e}var D=document.getElementById("root");l.a.render(c.a.createElement(function(e){var n=e.children,t=Object(i.useState)(h),r=Object(a.a)(t,2),o=r[0],l=r[1];return Object(i.useEffect)(function(){return p(o,l)}),c.a.createElement(g.Provider,{value:Object(m.a)({},o,{refreshVideos:function(){localStorage.removeItem("videos"),l(h)}})},n)},null,c.a.createElement(function(){var e=Object(i.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1];return c.a.createElement("div",null,c.a.createElement(s,null),c.a.createElement("div",{className:Object(u.a)(T())},c.a.createElement(w,{selectHandler:r,selected:t}),c.a.createElement(H,{selected:t})))},null)),D)}},[[11,2,1]]]);
//# sourceMappingURL=main.5f2722a0.chunk.js.map