(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(20)},18:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t(3),i=t(0),o=t.n(i),c=t(7),l=t.n(c),d=t(2);function u(){var e=Object(r.a)(["\n      background: #e91e63;\n      color: #fff;\n      width: 100%;\n      height: 50px;\n      line-height: 50px;\n      font-size: 30px;\n      font-family: monospace;\n      text-align: center;\n    "]);return u=function(){return e},e}var s=function(){return o.a.createElement("div",{className:Object(d.a)(u())},"Khan Video Linker")},f=t(10),m=t(11);function b(){var e=Object(r.a)(["\n            display: block;\n            position: absolute;\n            color: ",";\n            font-size: calc("," * 0.24);\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n          "]);return b=function(){return e},e}function p(){var e=Object(r.a)(["\n          position: relative;\n          display: block;\n          height: 100%;\n          width: 100%;\n        "]);return p=function(){return e},e}function g(){var e=Object(r.a)(["\n        box-sizing: border-box;\n        height: ",";\n        width: ",";\n        overflow: hidden;\n      "]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    animation-duration: 1s;\n    border-left-width: calc("," / 25);\n    border-top-width: calc("," / 25);\n    border-left-color: ",";\n    border-left-style: solid;\n    border-top-style: solid;\n    border-top-color: transparent;\n    &:nth-child(1) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(120deg) rotateX(66deg) rotateZ(0deg);\n    }\n    &:nth-child(2) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(240deg) rotateX(66deg) rotateZ(0deg);\n    }\n    &:nth-child(3) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(360deg) rotateX(66deg) rotateZ(0deg);\n    }\n  "]);return v=function(){return e},e}function h(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(360deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return h=function(){return e},e}function y(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(240deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(120deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return j=function(){return e},e}var O=Object(d.b)(j()),E=Object(d.b)(y()),x=Object(d.b)(h()),k=function(e){var n=e.color,t=void 0===n?"#e91e63":n,r=e.size,a=void 0===r?"40px":r,i=Object(m.a)(e,["color","size"]),c=Object(d.a)(v(),a,a,t,O,E,x);return o.a.createElement("div",Object.assign({className:Object(d.a)(g(),a,a)},i),o.a.createElement("div",{className:Object(d.a)(p())},o.a.createElement("div",{className:c}),o.a.createElement("div",{className:c}),o.a.createElement("div",{className:c}),o.a.createElement("div",{className:Object(d.a)(b(),t,a)},"\u25cf")))},w=t(4),N=t(5),C=o.a.createContext({}),S={videos:[],loading:!0,error:null},V=function(e,n){if(0===e.videos.length&&null===e.error){var t=localStorage.getItem("khan-academy-videos");if(null===t){fetch("https://jgilgen.pythonanywhere.com/api/v1/topictree?kind=Video").then(function(e){return e.json()}).then(function(e){t=Object.values(function e(n){return Array.isArray(n)?n.reduce(function(n,t){return t.children?Object(N.a)({},n,e(t.children)):"Video"===t.kind?Object(N.a)({},n,Object(w.a)({},t.youtube_id,{title:t.title,youtubeid:t.youtube_id})):n},{}):n.children?e(n.children):"Video"===n.kind?Object(w.a)({},n.youtube_id,{title:n.title,youtubeid:n.youtube_id}):void 0}(e)),localStorage.setItem("khan-academy-videos",JSON.stringify(t)),n({videos:t,loading:!1,error:null})}).catch(function(e){console.error(e),n({videos:[],loading:!1,error:"Error fetching data \ud83d\ude1e"})})}else n({videos:JSON.parse(t),loading:!1,error:null})}};function Z(){var e=Object(r.a)(["\n              border: none;\n              border-bottom: thick solid #e91e63;\n              width: 90%;\n              margin: 10px 0;\n            "]);return Z=function(){return e},e}function z(){var e=Object(r.a)(["\n                display: inline-block;\n                background: #e91e63;\n                border: none;\n                color: #fff;\n                padding: 5px 7px;\n                border-radius: 5px;\n                font-family: monospace;\n                font-size: 1em;\n              "]);return z=function(){return e},e}function R(){var e=Object(r.a)(["\n        width: 40%;\n        background: #fff;\n        padding: 10px;\n      "]);return R=function(){return e},e}function I(){var e=Object(r.a)(["\n  width: 20px;\n  height: 20px;\n  color: #fff;\n  background: #e91e63;\n  float: right;\n  font-size: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return I=function(){return e},e}function X(){var e=Object(r.a)(["\n  color: #e91e63;\n  margin: 10px 0;\n  cursor: pointer;\n  font-family: monospace;\n"]);return X=function(){return e},e}var _=Object(d.a)(X()),A=Object(d.a)(I()),F=function(e){var n=e.selectedVideos,t=e.setSelectedVideos,r=o.a.useState(""),i=Object(a.a)(r,2),c=i[0],l=i[1],u=o.a.useContext(C),s=u.videos,m=u.loading,b=u.error,p=u.refreshVideos,g=s.reduce(function(e,t){var r=t.youtubeid,a=t.title,i=a.toLowerCase().includes(c.toLowerCase()),o=n.find(function(e){return e.youtubeid===r});return i&&!o&&e.push({youtubeid:r,title:a}),e},[]).slice(0,10).map(function(e){var r=e.youtubeid,a=e.title;return o.a.createElement("div",{key:r,"data-testid":r,className:_,onClick:function(){n.find(function(e){return e.youtubeid===r})||t(Object(f.a)(n).concat([{youtubeid:r,title:a}]))}},a,o.a.createElement("div",{className:A},"+"))}),v=n.map(function(e){var r=e.youtubeid,a=e.title;return o.a.createElement("div",{key:r,className:_,onClick:function(){return t(n.filter(function(e){return e.youtubeid!==r}))}},a,o.a.createElement("div",{className:A},"-"))});return o.a.createElement("div",{className:Object(d.a)(R())},m?o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}},o.a.createElement("h2",{style:{margin:0}},"Retrieving videos"),o.a.createElement("h4",{style:{margin:0}},"(this could take a minute)"),o.a.createElement(k,null)):b?o.a.createElement("h2",null,b):o.a.createElement(o.a.Fragment,null,v.length>0&&o.a.createElement("div",{"data-testid":"selected-videos"},o.a.createElement("h4",null,"Selected Videos"),o.a.createElement("div",{"data-testid":"video-list"},v),o.a.createElement("hr",{style:{height:3,border:"none",background:"#b0003a"}})),o.a.createElement("div",null,o.a.createElement("h4",{style:{display:"inline-block",marginRight:20}},"Video finder"),o.a.createElement("button",{className:Object(d.a)(z()),onClick:p},"Refresh List")),o.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:c,placeholder:"Type to find a video",type:"text",className:Object(d.a)(Z())}),o.a.createElement("div",{"data-testid":"video-list"},g)))};function J(){var e=Object(r.a)(["\n              ",";\n              ",";\n            "]);return J=function(){return e},e}function L(){var e=Object(r.a)(['\n  font-weight: bold;\n  color: #b0003a;\n  &:after {\n    content: " ";\n    position: absolute;\n    width: 0;\n    height: 15px;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n    border-bottom: 7px solid #b0003a;\n    left: 50%;\n    margin-left: -7px;\n    bottom: -3px;\n    display: block;\n  }\n']);return L=function(){return e},e}function B(){var e=Object(r.a)(["\n  display: inline-block;\n  margin: 0 10px;\n  position: relative;\n  padding: 0 0 5px 0;\n  cursor: pointer;\n"]);return B=function(){return e},e}var D=Object(d.a)(B()),P=Object(d.a)(L()),T=function(e){var n=e.render,t=e.tabs,r=Object(i.useState)(t[0].id),c=Object(a.a)(r,2),l=c[0],u=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{listStyle:"none",display:"flex",flexDirection:"row",width:"100%"}},t.map(function(e){return o.a.createElement("li",{key:e.id,className:Object(d.a)(J(),D,l===e.id&&P),onClick:function(){return u(e.id)}},e.name)})),o.a.createElement("hr",{style:{margin:0,height:3,background:"#b0003a",width:"100%",border:"none"}}),n(l))};function K(){var e=Object(r.a)(["\n          transition: opacity 3s cubic-bezier(0.02, 1.24, 0.27, 0.93);\n          opacity: ",";\n        "]);return K=function(){return e},e}function q(){var e=Object(r.a)(["\n        display: inline-block;\n        background: #e91e63;\n        border: none;\n        color: #fff;\n        padding: 5px 7px;\n        border-radius: 5px;\n        font-family: monospace;\n        font-size: 1em;\n        float: right;\n        margin: 7px;\n        width: 150px;\n      "]);return q=function(){return e},e}var G=function(e){var n=e.str,t=Object(i.useState)(!1),r=Object(a.a)(t,2),c=r[0],l=r[1];return Object(i.useEffect)(function(){c&&setTimeout(function(){return l(!1)},1e3)}),o.a.createElement("button",{className:Object(d.a)(q()),onClick:function(){H(n),l(!0)}},o.a.createElement("span",{className:Object(d.a)(K(),c?.5:1)},c?"copied":"copy to clipboard"))},H=function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))};function M(){var e=Object(r.a)(["\n              background: #089de3;\n              border: thin solid #089de3;\n              border-radius: 5px;\n              padding: 5px 9px;\n              margin: 0 3px;\n              color: #fff;\n            "]);return M=function(){return e},e}function Q(){var e=Object(r.a)(["\n        width: 60%;\n        text-align: left;\n        padding: 10px;\n      "]);return Q=function(){return e},e}var U="https://www.khanacademy.org/embed_video?v=",W=function(e){return'\n<div>\n    <iframe\n    title="kaskill-ka-player"\n    id="kaskill-ka-player"\n    style="width:853px;height:480px;border:none;background-color:ghostwhite;margin:auto;"\n    scrolling="no"\n    src="https://www.khanacademy.org/embed_video?v='.concat(e[0],'"\n    ></iframe>\n</div>\n<div>\n    ').concat(e.map(function(e,n){return function(e,n){return"\n  <button\n    onclick=\"changeVideo('".concat(U+n,'\')"\n    style="\n      background: #089de3;\n      border: thin solid #089de3;\n      border-radius: 5px;\n      padding: 5px 9px;\n      margin: 0 3px;\n      color: #fff;\n    "\n  >\n    Video ').concat(e,"\n  </button>\n")}(n+1,e)}).join(""),'\n</div>\n<script type="text/javascript">\n    function changeVideo(url){\n        document.getElementById("kaskill-ka-player").src = url;\n    }\n<\/script>\n')},Y=function(e){var n=e.selectedVideos.map(function(e){return e.youtubeid});return o.a.createElement("div",{className:Object(d.a)(Q())},0===n.length?o.a.createElement("h1",null,"Please select a video"):o.a.createElement(T,{tabs:[{id:"code",name:"Code"},{id:"rendered",name:"Rendered Code"}],render:function(e){return"code"===e?o.a.createElement($,{selected:n}):o.a.createElement(ee,{selected:n})}}))},$=function(e){var n=e.selected,t=W(n);return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{str:t}),o.a.createElement("pre",{"data-testid":"code-string",style:{fontFamily:"monospace"}},t))},ee=function(e){var n=e.selected,t=o.a.useState(n[0]),r=Object(a.a)(t,2),i=r[0],c=r[1];return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("iframe",{id:"kaskill-ka-player",title:"kaskill-ka-player",style:{width:"853px",height:"480px",border:"none",backgroundColor:"ghostwhite",margin:"auto"},scrolling:"no",src:U+i})),o.a.createElement("div",null,n.map(function(e,n){return o.a.createElement("button",{key:e,onClick:function(){return c(e)},className:Object(d.a)(M())},"Video ",n+1)})))};t(18);function ne(){var e=Object(r.a)(["\n          display: flex;\n          min-height: calc(100vh - 50px);\n          background: #eee;\n          text-align: left;\n        "]);return ne=function(){return e},e}var te=document.getElementById("root");l.a.render(o.a.createElement(function(e){var n=e.children,t=o.a.useState(S),r=Object(a.a)(t,2),i=r[0],c=r[1];return o.a.useEffect(function(){var e=!0;return e&&V(i,c),function(){e=!1}},[i]),o.a.createElement(C.Provider,{value:Object(N.a)({},i,{refreshVideos:function(){localStorage.removeItem("khan-academy-videos"),c(S)}})},n)},null,o.a.createElement(function(){var e=o.a.useState([]),n=Object(a.a)(e,2),t=n[0],r=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,null),o.a.createElement("div",{className:Object(d.a)(ne())},o.a.createElement(F,{selectedVideos:t,setSelectedVideos:r}),o.a.createElement(Y,{selectedVideos:t})))},null)),te)}},[[12,2,1]]]);
//# sourceMappingURL=main.a5ab5cd3.chunk.js.map