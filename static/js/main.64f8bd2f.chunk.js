(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,n,t){e.exports=t(19)},17:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t(0),c=t.n(a),i=t(7),o=t.n(i),l=t(2);function u(){var e=Object(r.a)(["\n      background: #e91e63;\n      color: #fff;\n      width: 100%;\n      height: 50px;\n      line-height: 50px;\n      font-size: 30px;\n      font-family: monospace;\n      text-align: center;\n    "]);return u=function(){return e},e}var d=function(){return c.a.createElement("div",{className:Object(l.a)(u())},"Khan Video Linker")},s=t(10),f=t(3),m=t(4),b=t(5),p=function(){return fetch("https://jgilgen.pythonanywhere.com/api/v1/topictree?kind=Video").then(function(e){return e.json()}).then(function(e){return function e(n){return Array.isArray(n)?n.reduce(function(n,t){return t.children?Object(b.a)({},n,e(t.children)):"Video"===t.kind?Object(b.a)({},n,Object(m.a)({},t.youtube_id,t.title)):n},{}):n.children?e(n.children):"Video"===n.kind?Object(m.a)({},n.youtube_id,n.title):void 0}(e)}).catch(function(e){throw e})},h=c.a.createContext({});function g(){var e=Object(r.a)(["\n              border: none;\n              border-bottom: thick solid #e91e63;\n              width: 90%;\n              margin: 10px 0;\n            "]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n                display: inline-block;\n                background: #e91e63;\n                border: none;\n                color: #fff;\n                padding: 5px 7px;\n                border-radius: 5px;\n                font-family: monospace;\n                font-size: 1em;\n              "]);return v=function(){return e},e}function j(){var e=Object(r.a)(["\n        width: 40%;\n        background: #fff;\n        padding: 10px;\n      "]);return j=function(){return e},e}function y(){var e=Object(r.a)(["\n  width: 20px;\n  height: 20px;\n  color: #fff;\n  background: #e91e63;\n  float: right;\n  font-size: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return y=function(){return e},e}function O(){var e=Object(r.a)(["\n  color: #e91e63;\n  margin: 10px 0;\n  cursor: pointer;\n  font-family: monospace;\n"]);return O=function(){return e},e}var x=Object(l.a)(O()),E=Object(l.a)(y()),k=function(){var e=Object(a.useState)(""),n=Object(f.a)(e,2),t=n[0],r=n[1],i=function(){var e=JSON.parse(localStorage.getItem("videos")),n=Object(a.useState)(e),t=Object(f.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(null===r),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!1),s=Object(f.a)(d,2),m=s[0],b=s[1];return Object(a.useEffect)(function(){var e=!0;return null===r&&p().then(function(n){e&&(localStorage.setItem("videos",JSON.stringify(n)),c(n),u(!1),b(!1))}).catch(function(){c([]),u(!1),b("Error fetching videos!")}),function(){e=!1}},[r]),{videos:null===r?{}:r,refreshVideos:function(){u(!0),c(null),b(!1)},loading:l,error:m}}(),o=i.videos,u=i.loading,d=i.error,m=i.refreshVideos,b=Object(a.useContext)(h),y=b.selectedVideos,O=b.setSelectedVideos,k=Object.entries(o).reduce(function(e,n){var r=Object(f.a)(n,2),a=r[0],c=r[1];return c.toLowerCase().includes(t.toLowerCase())&&!y.includes(a)&&e.push({key:a,title:c}),e},[]).slice(0,10).map(function(e){var n=e.key,t=e.title;return c.a.createElement("div",{key:n,"data-testid":n,className:x,onClick:function(){y.includes(n)||O(Object(s.a)(y).concat([n]))}},t,c.a.createElement("div",{className:E},"+"))}),w=y.map(function(e){return c.a.createElement("div",{key:e,className:x,onClick:function(){return O(y.filter(function(n){return n!==e}))}},o[e],c.a.createElement("div",{className:E},"-"))});return c.a.createElement("div",{className:Object(l.a)(j())},u?c.a.createElement("h2",null,"Retrieving video list from Khan Academy.",c.a.createElement("br",null)," This could take a minute ..."):d?c.a.createElement("h2",null,d):c.a.createElement(c.a.Fragment,null,w.length>0&&c.a.createElement("div",{"data-testid":"selected-videos"},c.a.createElement("h4",null,"Selected Videos"),c.a.createElement("div",{"data-testid":"video-list"},w),c.a.createElement("hr",{style:{height:3,border:"none",background:"#b0003a"}})),c.a.createElement("div",null,c.a.createElement("h4",{style:{display:"inline-block",marginRight:20}},"Video finder"),c.a.createElement("button",{className:Object(l.a)(v()),onClick:m},"Refresh List")),c.a.createElement("input",{onChange:function(e){return r(e.target.value)},value:t,placeholder:"Type to find a video",type:"text",className:Object(l.a)(g())}),c.a.createElement("div",{"data-testid":"video-list"},k)))};function w(){var e=Object(r.a)(["\n              ",";\n              ",";\n            "]);return w=function(){return e},e}function S(){var e=Object(r.a)(['\n  font-weight: bold;\n  color: #b0003a;\n  &:after {\n    content: " ";\n    position: absolute;\n    width: 0;\n    height: 15px;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n    border-bottom: 7px solid #b0003a;\n    left: 50%;\n    margin-left: -7px;\n    bottom: -3px;\n    display: block;\n  }\n']);return S=function(){return e},e}function C(){var e=Object(r.a)(["\n  display: inline-block;\n  margin: 0 10px;\n  position: relative;\n  padding: 0 0 5px 0;\n  cursor: pointer;\n"]);return C=function(){return e},e}var V=Object(l.a)(C()),N=Object(l.a)(S()),R=function(e){var n=e.render,t=e.tabs,r=Object(a.useState)(t[0].id),i=Object(f.a)(r,2),o=i[0],u=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{listStyle:"none",display:"flex",flexDirection:"row",width:"100%"}},t.map(function(e){return c.a.createElement("li",{key:e.id,className:Object(l.a)(w(),V,o===e.id&&N),onClick:function(){return u(e.id)}},e.name)})),c.a.createElement("hr",{style:{margin:0,height:3,background:"#b0003a",width:"100%",border:"none"}}),n(o))};function A(){var e=Object(r.a)(["\n          transition: opacity 3s cubic-bezier(0.02, 1.24, 0.27, 0.93);\n          opacity: ",";\n        "]);return A=function(){return e},e}function z(){var e=Object(r.a)(["\n        display: inline-block;\n        background: #e91e63;\n        border: none;\n        color: #fff;\n        padding: 5px 7px;\n        border-radius: 5px;\n        font-family: monospace;\n        font-size: 1em;\n        float: right;\n        margin: 7px;\n        width: 150px;\n      "]);return z=function(){return e},e}var F=function(e){var n=e.str,t=Object(a.useState)(!1),r=Object(f.a)(t,2),i=r[0],o=r[1];return Object(a.useEffect)(function(){i&&setTimeout(function(){return o(!1)},1e3)}),c.a.createElement("button",{className:Object(l.a)(z()),onClick:function(){!function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}(n),o(!0)}},c.a.createElement("span",{className:Object(l.a)(A(),i?.5:1)},i?"copied":"copy to clipboard"))};function I(){var e=Object(r.a)(["\n              background: #5cb85c;\n              border: thin solid #4cae4c;\n              border-radius: 5px;\n              padding: 5px 9px;\n              margin: 0 3px;\n              color: #fff;\n            "]);return I=function(){return e},e}function J(){var e=Object(r.a)(["\n        width: 60%;\n        text-align: left;\n        padding: 10px;\n      "]);return J=function(){return e},e}var L="https://www.khanacademy.org/embed_video?v=",_=function(e){return'\n<div>\n    <iframe\n    title="khan video player"\n    id="kaskill-ka-player"\n    style="width:853px;height:480px;border:none;background-color:ghostwhite;margin:auto;"\n    scrolling="no"\n    src="https://www.khanacademy.org/embed_video?v='.concat(e[0],'"\n    ></iframe>\n</div>\n<div>\n    ').concat(e.map(function(e,n){return function(e,n){return"\n  <button\n    onclick=\"changeVideo('".concat(L+n,'\')"\n    style="\n      background: #5cb85c;\n      border: thin solid #4cae4c;\n      border-radius: 5px;\n      padding: 5px 9px;\n      margin: 0 3px;\n      color: #fff;\n    "\n  >\n    Video ').concat(e,"\n  </button>\n")}(n+1,e)}).join(""),'\n</div>\n<script type="text/javascript">\n    function changeVideo(url){\n        document.getElementById("kaskill-ka-player").src = url;\n    }\n<\/script>\n')},T=function(){var e=Object(a.useContext)(h).selectedVideos;return c.a.createElement("div",{className:Object(l.a)(J())},0===e.length?c.a.createElement("h1",null,"Please select a video"):c.a.createElement(R,{tabs:[{id:"code",name:"Code"},{id:"rendered",name:"Rendered Code"}],render:function(n){return"code"===n?c.a.createElement(B,{selected:e}):c.a.createElement(K,{selected:e})}}))},B=function(e){var n=e.selected,t=_(n);return c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{str:t}),c.a.createElement("pre",{"data-testid":"code-string",style:{fontFamily:"monospace"}},t))},K=function(e){var n=e.selected,t=Object(a.useState)(n[0]),r=Object(f.a)(t,2),i=r[0],o=r[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("iframe",{id:"kaskill-ka-player",title:"khan video player",style:{width:"853px",height:"480px",border:"none",backgroundColor:"ghostwhite",margin:"auto"},scrolling:"no",src:L+i})),c.a.createElement("div",null,n.map(function(e,n){return c.a.createElement("button",{key:e,onClick:function(){return o(e)},className:Object(l.a)(I())},"Video ",n+1)})))};t(17);function P(){var e=Object(r.a)(["\n        display: flex;\n        min-height: calc(100vh - 50px);\n        background: #eee;\n        text-align: left;\n      "]);return P=function(){return e},e}var D=document.getElementById("root");o.a.render(c.a.createElement(function(e){var n=e.children,t=Object(a.useState)([]),r=Object(f.a)(t,2),i=r[0],o=r[1];return c.a.createElement(h.Provider,{value:{selectedVideos:i,setSelectedVideos:o}},n)},null,c.a.createElement(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d,null),c.a.createElement("div",{className:Object(l.a)(P())},c.a.createElement(k,null),c.a.createElement(T,null)))},null)),D)}},[[11,2,1]]]);
//# sourceMappingURL=main.64f8bd2f.chunk.js.map